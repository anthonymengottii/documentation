---
title: "Autentica√ß√£o"
description: "Aprenda como autenticar suas requisi√ß√µes na UPay Gateway API"
---

## üîê Vis√£o Geral

A UPay Gateway API usa autentica√ß√£o baseada em **API Keys** (Bearer Token) para garantir que apenas usu√°rios autorizados possam acessar os recursos da API.

## üìã Obtendo sua API Key

### Passo 1: Acesse o Dashboard

1. Fa√ßa login no [Dashboard UPay](https://upay-sistema.onrender.com)
2. Complete o processo de KYC (Know Your Customer) se ainda n√£o tiver feito
3. Navegue at√© **Configura√ß√µes ‚Üí Credenciais de API**

### Passo 2: Crie uma API Key

1. Clique em **"Criar Nova API Key"**
2. D√™ um nome descritivo para sua API Key (ex: "Integra√ß√£o Produ√ß√£o", "App Mobile")
3. Selecione as permiss√µes necess√°rias:
   - `paymentLinks:read` - Ler links de pagamento
   - `paymentLinks:write` - Criar/editar links de pagamento
   - `products:read` - Ler produtos
   - `products:write` - Criar/editar produtos
   - `coupons:read` - Ler cupons
   - `coupons:write` - Criar/editar cupons
   - `transactions:read` - Ler transa√ß√µes
   - `transactions:write` - Criar transa√ß√µes
   - `webhooks:read` - Ler webhooks
   - `webhooks:write` - Criar/editar webhooks

4. Clique em **"Gerar API Key"**
5. **‚ö†Ô∏è IMPORTANTE**: Copie e guarde sua API Key imediatamente. Ela n√£o ser√° exibida novamente!

<Warning>
  Nunca compartilhe sua API Key publicamente. Mantenha-a segura e use vari√°veis de ambiente ou servi√ßos de gerenciamento de secrets.
</Warning>

## üîë Usando sua API Key

### Header de Autentica√ß√£o

A API aceita autentica√ß√£o em dois formatos:

**Formato 1: Bearer Token (Recomendado)**
```
Authorization: Bearer SUA_API_KEY_AQUI
```

**Formato 2: X-API-Key Header**
```
X-API-Key: SUA_API_KEY_AQUI
```

Ambos os formatos s√£o aceitos. Recomendamos o uso do formato Bearer Token por ser mais padr√£o.

### Exemplo com cURL

```bash
curl -X GET "https://api.upay-sistema.onrender.com/api/v1/payment-links" \
  -H "Authorization: Bearer sua_api_key_aqui" \
  -H "Content-Type: application/json"
```

### Exemplo com JavaScript (Fetch)

```javascript
const apiKey = 'sua_api_key_aqui';

const response = await fetch('https://api.upay-sistema.onrender.com/api/v1/payment-links', {
  method: 'GET',
  headers: {
    'Authorization': `Bearer ${apiKey}`,
    'Content-Type': 'application/json'
  }
});

const data = await response.json();
```

### Exemplo com Python (Requests)

```python
import requests

api_key = 'sua_api_key_aqui'
headers = {
    'Authorization': f'Bearer {api_key}',
    'Content-Type': 'application/json'
}

response = requests.get(
    'https://api.upay-sistema.onrender.com/api/v1/payment-links',
    headers=headers
)

data = response.json()
```

### Exemplo com Node.js (Axios)

```javascript
const axios = require('axios');

const apiKey = 'sua_api_key_aqui';

const response = await axios.get('https://api.upay-sistema.onrender.com/api/payment-links', {
  headers: {
    'Authorization': `Bearer ${apiKey}`,
    'Content-Type': 'application/json'
  }
});

console.log(response.data);
```

## üõ°Ô∏è Seguran√ßa

### Boas Pr√°ticas

1. **Nunca commite API Keys no c√≥digo**
   - Use vari√°veis de ambiente
   - Use servi√ßos de gerenciamento de secrets (AWS Secrets Manager, HashiCorp Vault, etc.)

2. **Use diferentes API Keys para diferentes ambientes**
   - Uma para desenvolvimento
   - Uma para produ√ß√£o
   - Facilita revoga√ß√£o se necess√°rio

3. **Revogue API Keys comprometidas imediatamente**
   - Acesse o Dashboard ‚Üí Configura√ß√µes ‚Üí Credenciais de API
   - Revogue a API Key comprometida
   - Gere uma nova API Key

4. **Use apenas as permiss√µes necess√°rias**
   - Siga o princ√≠pio do menor privil√©gio
   - N√£o conceda permiss√µes desnecess√°rias

5. **Rotacione suas API Keys periodicamente**
   - Recomendado a cada 90 dias
   - Facilita a detec√ß√£o de uso n√£o autorizado

### Vari√°veis de Ambiente

#### .env (Node.js/Python)

```env
UPAY_API_KEY=sua_api_key_aqui
UPAY_API_URL=https://api.upay-sistema.onrender.com
```

#### Uso no c√≥digo

```javascript
// Node.js
const apiKey = process.env.UPAY_API_KEY;

// Python
import os
api_key = os.getenv('UPAY_API_KEY')
```

## ‚ùå Tratamento de Erros

### 401 Unauthorized

```json
{
  "error": "Unauthorized",
  "message": "Token inv√°lido ou expirado"
}
```

**Solu√ß√µes:**
- Verifique se a API Key est√° correta
- Verifique se est√° usando o formato `Bearer {api_key}`
- Verifique se a API Key n√£o foi revogada

### 403 Forbidden

```json
{
  "error": "Forbidden",
  "message": "Voc√™ n√£o tem permiss√£o para acessar este recurso"
}
```

**Solu√ß√µes:**
- Verifique se sua API Key tem as permiss√µes necess√°rias
- Entre em contato com o suporte para solicitar permiss√µes adicionais

## üìö Pr√≥ximos Passos

Agora que voc√™ sabe como autenticar suas requisi√ß√µes, explore:

<CardGroup cols={2}>
  <Card title="Links de Pagamento" icon="link" href="/pages/guides/features/payment-links">
    Aprenda a criar e gerenciar links de pagamento
  </Card>
  <Card title="Produtos" icon="box" href="/guides/features/products">
    Gerencie seu cat√°logo de produtos
  </Card>
  <Card title="Cupons" icon="ticket" href="/pages/guides/features/coupons">
    Crie e gerencie cupons de desconto
  </Card>
  <Card title="Webhooks" icon="bell" href="/guides/features/webhooks">
    Configure webhooks para receber notifica√ß√µes
  </Card>
</CardGroup>

