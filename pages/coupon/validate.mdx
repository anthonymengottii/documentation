---
title: "POST Validar Cupom"
description: "Valida um cupom e calcula o desconto (público)"
method: "POST"
path: "/api/coupons/validate"
---

## Validar Cupom

Valida um cupom e retorna o desconto calculado. Este endpoint é **público** e não requer autenticação.

<CodeGroup>

```bash cURL
curl -X POST "https://api.upay-sistema.onrender.com/api/coupons/validate" \
  -H "Content-Type: application/json" \
  -d '{
    "code": "DESCONTO10",
    "amount": 10000
  }'
```

```javascript JavaScript
const response = await fetch('https://api.upay-sistema.onrender.com/api/coupons/validate', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    code: 'DESCONTO10',
    amount: 10000
  })
});

const data = await response.json();
```

```python Python
import requests

url = "https://api.upay-sistema.onrender.com/api/coupons/validate"
headers = {
    "Content-Type": "application/json"
}
payload = {
    "code": "DESCONTO10",
    "amount": 10000
}

response = requests.post(url, json=payload, headers=headers)
data = response.json()
```

</CodeGroup>

<ParamField body="code" type="string" required>
  Código do cupom
</ParamField>
<ParamField body="amount" type="number" required>
  Valor da compra em centavos
</ParamField>

<Note>
  Este endpoint é público e não requer autenticação. Use-o no checkout para validar cupons.
</Note>

<ResponseField name="valid" type="boolean">
  Indica se o cupom é válido
</ResponseField>
<ResponseField name="message" type="string">
  Mensagem de validação (se inválido)
</ResponseField>
<ResponseField name="discountAmount" type="number">
  Valor do desconto em centavos (se válido)
</ResponseField>
<ResponseField name="finalAmount" type="number">
  Valor final após desconto em centavos (se válido)
</ResponseField>
<ResponseField name="coupon" type="object">
  Dados do cupom (se válido)
</ResponseField>

<ResponseExample>

```json
{
  "valid": true,
  "discountAmount": 1000,
  "finalAmount": 9000,
  "coupon": {
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "code": "DESCONTO10",
    "discountType": "PERCENTAGE",
    "discountValue": 10
  }
}
```

</ResponseExample>

